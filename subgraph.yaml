specVersion: 0.0.2
schema:
  file: ./schema.graphql
dataSources:
  - name: ContractRegister
    kind: ethereum/contract
    network: ropsten
    source:
      address: "0xE69B2394C1EBE5B6C92d549D162606e29A9C9fA9"
      abi: ContractRegister
      startBlock: 7005592
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.3
      language: wasm/assemblyscript
      entities:
        - NexusContracts
      abis:
        - name: ContractRegister
          file: ./abis/ContractRegister.json
      callHandlers:
        - function: addNewVersion(address[])
          handler: updateContracts
      file: ./src/mappingContractRegister.ts
templates:
  - name: MemberRoles
    kind: ethereum/contract
    network: ropsten
    source:
      abi: MemberRoles
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.3
      language: wasm/assemblyscript
      entities:
        - Member
      abis:
        - name: MemberRoles
          file: ./abis/MemberRoles.json
      callHandlers:
        - function: payJoiningFee(address)
          handler: handlePayJoiningFee
      file: ./src/mappingMemberRole.ts
<<<<<<< HEAD
  - name: Pool1
    kind: ethereum/contract
    network: ropsten
    source:
      abi: Pool1
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.3
      language: wasm/assemblyscript
      entities:
        - Cover
      abis:
        - name: Pool1
          file: ./abis/Pool1.json
        - name: ContractRegister
          file: ./abis/ContractRegister.json
        - name: QuotationData
          file: ./abis/QuotationData.json
      callHandlers:
        - function: makeCoverBegin(address,bytes4,uint256[],uint16,uint8,bytes32,bytes32)
          handler: handleNewCover
      file: ./src/mappingPool1.ts
=======
>>>>>>> master
  - name: TokenData
    kind: ethereum/contract
    network: ropsten
    source:
      abi: TokenData
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.3
      language: wasm/assemblyscript
      entities:
        - Stake
      abis:
        - name: TokenData
          file: ./abis/TokenData.json
      callHandlers:
        - function: addStake(address,address,uint256)
          handler: handleAddStake
      file: ./src/mappingTokenData.ts
  - name: QuotationData
    kind: ethereum/contract
    network: ropsten
    source:
      abi: QuotationData
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.3
      language: wasm/assemblyscript
      entities:
        - QuotationData
      eventHandlers:
        - event: CoverDetailsEvent(indexed uint256,address,uint256,uint256,uint256,uint256,bytes4)
          handler: handleCoverDetailsEvent
      abis:
        - name: QuotationData
          file: ./abis/QuotationData.json
      file: ./src/mappingQuotationData.ts
  - name: ClaimsData
    kind: ethereum/contract
    network: ropsten
    source:
      abi: ClaimsData
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.3
      language: wasm/assemblyscript
      entities:
        - ClaimsData
      eventHandlers:
        - event: VoteCast(indexed address,indexed uint256,indexed bytes4,uint256,uint256,int8)
          handler: handleVoteCast
        - event: ClaimRaise(indexed uint256,indexed address,uint256,uint256)
          handler: handleClaimRaise
      abis:
        - name: ClaimsData
          file: ./abis/ClaimsData.json
      file: ./src/mappingClaimsData.ts
  - name: TokenController
    kind: ethereum/contract
    network: mainnet
    source:
      abi: TokenController
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.3
      language: wasm/assemblyscript
      entities:
        - TokenController
      eventHandlers:
        - event: Burned(indexed address,bytes32,uint256)
          handler: handleBurned
        - event: Unlocked(indexed address,indexed bytes32,uint256)
          handler: handleUnlocked
      abis:
        - name: TokenController
          file: ./abis/TokenController.json
      file: ./src/mappingTokenController.ts